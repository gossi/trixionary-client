{% extends "frame.twig" %}

{% block actions %}
<div class="btn-group" role="group">
<a href="{{ edit_url }}" class="btn btn-default" role="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
    <span class="caret"></span>
    <span class="sr-only">Toggle Dropdown</span>
</button>
<ul class="dropdown-menu" role="menu">
	<li><a href="{{ manage_pictures_url }}">{{ trans('manage-pictures') }}</a></li>
	<li><a href="{{ manage_videos_url }}">{{ trans('manage-videos') }}</a></li>
	<li><a href="{{ manage_references_url }}">{{ trans('manage-references') }}</a></li>
</ul>
</div>
{% endblock %}

{% block create %}
<li class="divider"></li>
<li><a href="{{ create_picture_url }}">{{ trans('create-picture') }}</a></li>
<li><a href="{{ create_video_url }}">{{ trans('create-video') }}</a></li>
<li><a href="{{ create_reference_url }}">{{ trans('create-reference') }}</a></li>
{% endblock %}

{% block main %}
<h2>{{ trans('manage-pictures') }}</h2>

<table class="table table-condensed">
	<thead>
		<tr>
			<th>{{ trans('thumbnail') }}</th>
			<th>{{ trans('title') }}</th>
			<th>{{ sport.getMovender() }}</th>
			<th>{{ trans('photographer') }}</th>
			<th>{{ trans('actions') }}</th>
		</tr>
	</thead>
	<tbody>
	{% for picture in pictures %}
		<tr{% if skill.getPictureId() == picture.getId() %} class="warning"{% endif %}>
			<td><img src="{{ getPictureThumbUrl(picture) }}" style="max-width: 75px; max-height: 75px;"></td>
			<td>{{ picture.getTitle() }}</td>
			<td>{{ picture.getMovender() }}</td>
			<td>{{ picture.getPhotographer() }}</td>
			<td>
				<a href="{{ edit_url_pattern|replace({'_id': picture.getId()})  }}" class="btn btn-primary btn-sm">
					<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
				</a>
				<a href="{{ delete_url_pattern|replace({'_id': picture.getId()})  }}" class="btn btn-danger btn-sm">
					<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
				</a>
				
				{% if skill.getPictureId() != picture.getId() %}
				<a href="{{ feature_url_pattern|replace({'_id': picture.getId()})  }}" class="btn btn-warning btn-sm">
					<span class="glyphicon glyphicon-star" aria-hidden="true"></span>
				</a>
				{% endif %}
				
			</td>
		</tr>
	{% endfor %}
	</tbody>
</table>

{% endblock %}