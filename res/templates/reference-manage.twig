{% extends 'toolbar.twig' %}

{% block breadcrumb %}
{{ parent() }}
<a href="{{ skill_url }}">{{ skill.getName() }}</a> &gt;
{{ trans('manage-references') }}
{% endblock %}


{% block main %}
<h2>{{ trans('manage-references') }}</h2>

<table class="table table-condensed">
	<thead>
		<tr>
			<th>{{ trans('type') }}</th>
			<th>{{ trans('title') }}</th>
			<th>{{ trans('author') }}</th>
			<th>{{ trans('publisher') }}</th>
			<th>{{ trans('year') }}</th>
			<th>{{ trans('actions') }}</th>
		</tr>
	</thead>
	<tbody>
	{% for reference in references %}
		<tr{% if reference.getManaged() %} class="bg-info"{% endif %}>
			<td>{{ transchoice(reference.getType(), 1) }}</td>
			<td>{{ reference.getTitle() }}</td>
			<td>{{ reference.getAuthor() }}</td>
			<td>{{ reference.getPublisher() }}</td>
			<td>{{ reference.getYear() }}</td>
			<td>
				{% if not reference.getManaged() %}
				<a href="{{ edit_url_pattern|replace({'_id': reference.getId()})  }}" class="btn btn-primary btn-xs">
					<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
				</a>
				<a href="{{ delete_url_pattern|replace({'_id': reference.getId()})  }}" class="btn btn-danger btn-xs">
					<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
				</a>
				{% endif %}
			</td>
		</tr>
	{% endfor %}
	</tbody>
</table>

{% endblock %}